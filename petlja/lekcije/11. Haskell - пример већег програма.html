<div id="lectureContent-8410" class="lectureContentMaterial active">



    
  <section id="id1">
<h1>Пример сложенијег програма<a class="headerlink" href="#id1" title="Permalink to this heading" target="_blank">¶</a></h1>
<p>Као пример сложенијег програма приказаћемо програм за решавање
загонетке Судоку. Задатак је да се табла димензије <span class="math notranslate nohighlight"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-1-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;9&lt;/mn&gt;&lt;mo&gt;&amp;#x00D7;&lt;/mo&gt;&lt;mn&gt;9&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="font-size: 110%; position: relative;"><span id="MJXc-Node-1" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.401em; padding-bottom: 0.344em;">9</span></span><span id="MJXc-Node-4" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.23em; padding-bottom: 0.344em;">×</span></span><span id="MJXc-Node-5" class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.401em; padding-bottom: 0.344em;">9</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>9</mn><mo>×</mo><mn>9</mn></math></span></span><script type="math/tex" id="MathJax-Element-1">9 \times 9</script></span>
попуни цифрама од 1 до 9 тако да су цифре у свакој врсти, свакој
колони и сваком од 9 квадрата димензије <span class="math notranslate nohighlight"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-2-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo&gt;&amp;#x00D7;&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="font-size: 110%; position: relative;"><span id="MJXc-Node-6" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-7" class="mjx-mrow"><span id="MJXc-Node-8" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.401em; padding-bottom: 0.344em;">3</span></span><span id="MJXc-Node-9" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.23em; padding-bottom: 0.344em;">×</span></span><span id="MJXc-Node-10" class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.401em; padding-bottom: 0.344em;">3</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mo>×</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-2">3 \times 3</script></span> буду
различити. Обично се креће од поља на ком се већ налазе неки бројеви
циљ је попунити сва остала поља. Један пример делимично попуњенe
Судоку табле и коначног решења је дат на наредној слици.</p>
<img alt="https://petljamediastorage.blob.core.windows.net/root/Media/Default/Kursevi/OnlineNastava/specit4_paradigme_logicko/sudoku.png" class="align-center" src="https://petljamediastorage.blob.core.windows.net/root/Media/Default/Kursevi/OnlineNastava/specit4_paradigme_logicko/sudoku.png">
<p>Иако је оригинална загонетка димензије <span class="math notranslate nohighlight"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-3-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;9&lt;/mn&gt;&lt;mo&gt;&amp;#x00D7;&lt;/mo&gt;&lt;mn&gt;9&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="font-size: 110%; position: relative;"><span id="MJXc-Node-11" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-12" class="mjx-mrow"><span id="MJXc-Node-13" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.401em; padding-bottom: 0.344em;">9</span></span><span id="MJXc-Node-14" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.23em; padding-bottom: 0.344em;">×</span></span><span id="MJXc-Node-15" class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.401em; padding-bottom: 0.344em;">9</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>9</mn><mo>×</mo><mn>9</mn></math></span></span><script type="math/tex" id="MathJax-Element-3">9 \times 9</script></span>, она
теоријски може бити било које димензије <span class="math notranslate nohighlight"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-4-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msup&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;&amp;#x00D7;&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;/math&gt;" role="presentation" style="font-size: 110%; position: relative;"><span id="MJXc-Node-16" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-17" class="mjx-mrow"><span id="MJXc-Node-18" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em;"><span id="MJXc-Node-19" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.457em; padding-bottom: 0.287em; padding-right: 0.003em;">d</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0.076em; padding-right: 0.071em;"><span id="MJXc-Node-20" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.401em; padding-bottom: 0.344em;">2</span></span></span></span><span id="MJXc-Node-21" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.23em; padding-bottom: 0.344em;">×</span></span><span id="MJXc-Node-22" class="mjx-msubsup MJXc-space2"><span class="mjx-base" style="margin-right: -0.003em;"><span id="MJXc-Node-23" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.457em; padding-bottom: 0.287em; padding-right: 0.003em;">d</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0.076em; padding-right: 0.071em;"><span id="MJXc-Node-24" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.401em; padding-bottom: 0.344em;">2</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>d</mi><mn>2</mn></msup><mo>×</mo><msup><mi>d</mi><mn>2</mn></msup></math></span></span><script type="math/tex" id="MathJax-Element-4">d^2 \times d^2</script></span> (у
оригиналној варијанти је <span class="math notranslate nohighlight"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-5-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="font-size: 110%; position: relative;"><span id="MJXc-Node-25" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-26" class="mjx-mrow"><span id="MJXc-Node-27" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.457em; padding-bottom: 0.287em; padding-right: 0.003em;">d</span></span><span id="MJXc-Node-28" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.06em; padding-bottom: 0.344em;">=</span></span><span id="MJXc-Node-29" class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.401em; padding-bottom: 0.344em;">3</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><mo>=</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-5">d=3</script></span>). Стога ћемо увести константу
<code class="docutils literal notranslate"><span class="pre">dim</span></code> која одређује димензију табле.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">dim</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">3</span>
</pre></div>
</div>
<p>Пређимо сада на дефинисање основних типова. Таблу ћемо представити као
матрицу тј. листу листи које садрже бројеве, при чему ћемо бројеве,
једноставности ради, представити типом <code class="docutils literal notranslate"><span class="pre">Int</span></code>.  Пошто су бројеви од 0
до <span class="math notranslate nohighlight"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-6-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msup&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;/math&gt;" role="presentation" style="font-size: 110%; position: relative;"><span id="MJXc-Node-30" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-31" class="mjx-mrow"><span id="MJXc-Node-32" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em;"><span id="MJXc-Node-33" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.457em; padding-bottom: 0.287em; padding-right: 0.003em;">d</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0.076em; padding-right: 0.071em;"><span id="MJXc-Node-34" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.401em; padding-bottom: 0.344em;">2</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>d</mi><mn>2</mn></msup></math></span></span><script type="math/tex" id="MathJax-Element-6">d^2</script></span>, могао би бити коришћен и неки ужи тип. Празна поља
ћемо означавати бројем 0 (уместо овога могао би бити коришћен тип
<code class="docutils literal notranslate"><span class="pre">Maybe</span> <span class="pre">Int</span></code>, који, подсетимо се, омогућава представљање опционих
вредности). Декларацијом <code class="docutils literal notranslate"><span class="pre">type</span></code> дефинишемо нови тип тако што дајемо
ново име постојећем типу.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="kr">type</span><span class="w"> </span><span class="kt">Broj</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Int</span>
<span class="kr">type</span><span class="w"> </span><span class="kt">Tabla</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">[[</span><span class="kt">Broj</span><span class="p">]]</span>
</pre></div>
</div>
<p>Важно је да умемо да за дату таблу прочитамо сваку појединачну врсту,
сваку колону и сваки квадрат димензије <span class="math notranslate nohighlight"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-7-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo&gt;&amp;#x00D7;&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="font-size: 110%; position: relative;"><span id="MJXc-Node-35" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-36" class="mjx-mrow"><span id="MJXc-Node-37" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.457em; padding-bottom: 0.287em; padding-right: 0.003em;">d</span></span><span id="MJXc-Node-38" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.23em; padding-bottom: 0.344em;">×</span></span><span id="MJXc-Node-39" class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.457em; padding-bottom: 0.287em; padding-right: 0.003em;">d</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><mo>×</mo><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-7">d \times
d</script></span>.</p>
<p>Претпостављаћемо да је наша табла представљена листом својих врста, па
је врсту тривијално прочитати (само читамо листу на датој позицији
унутар наше листе листи, при чему су врсте нумерисане бројевима од 0
до <span class="math notranslate nohighlight"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-8-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msup&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="font-size: 110%; position: relative;"><span id="MJXc-Node-40" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-41" class="mjx-mrow"><span id="MJXc-Node-42" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em;"><span id="MJXc-Node-43" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.457em; padding-bottom: 0.287em; padding-right: 0.003em;">d</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0.076em; padding-right: 0.071em;"><span id="MJXc-Node-44" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.401em; padding-bottom: 0.344em;">2</span></span></span></span><span id="MJXc-Node-45" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.287em; padding-bottom: 0.401em;">−</span></span><span id="MJXc-Node-46" class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.401em; padding-bottom: 0.344em;">1</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>d</mi><mn>2</mn></msup><mo>−</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-8">d^2 - 1</script></span>).</p>
<p>Што се тиче колоне, она се добија тако што се из сваке врсте издвоји
елемент на датој позицији. Ово се елегантно може реализовати применом
пресликавања тј. функције <code class="docutils literal notranslate"><span class="pre">map</span></code>.  Квадрате нумеришемо бројевима од 0
до <span class="math notranslate nohighlight"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-9-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msup&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="font-size: 110%; position: relative;"><span id="MJXc-Node-47" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-48" class="mjx-mrow"><span id="MJXc-Node-49" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em;"><span id="MJXc-Node-50" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.457em; padding-bottom: 0.287em; padding-right: 0.003em;">d</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0.076em; padding-right: 0.071em;"><span id="MJXc-Node-51" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.401em; padding-bottom: 0.344em;">2</span></span></span></span><span id="MJXc-Node-52" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.287em; padding-bottom: 0.401em;">−</span></span><span id="MJXc-Node-53" class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.401em; padding-bottom: 0.344em;">1</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>d</mi><mn>2</mn></msup><mo>−</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-9">d^2-1</script></span> одозго наниже, слева надесно. Сваком квадрату могу
бити придружене две координате од 0 до <span class="math notranslate nohighlight"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-10-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="font-size: 110%; position: relative;"><span id="MJXc-Node-54" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-55" class="mjx-mrow"><span id="MJXc-Node-56" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.457em; padding-bottom: 0.287em; padding-right: 0.003em;">d</span></span><span id="MJXc-Node-57" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.287em; padding-bottom: 0.401em;">−</span></span><span id="MJXc-Node-58" class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.401em; padding-bottom: 0.344em;">1</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><mo>−</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-10">d-1</script></span> које се одређују
као целобројни количник и остатак при дељењу редног броја квадрата
бројем <span class="math notranslate nohighlight"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-11-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="font-size: 110%; position: relative;"><span id="MJXc-Node-59" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-60" class="mjx-mrow"><span id="MJXc-Node-61" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.457em; padding-bottom: 0.287em; padding-right: 0.003em;">d</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-11">d</script></span>. Множењем тих координата са <span class="math notranslate nohighlight"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-12-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="font-size: 110%; position: relative;"><span id="MJXc-Node-62" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-63" class="mjx-mrow"><span id="MJXc-Node-64" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.457em; padding-bottom: 0.287em; padding-right: 0.003em;">d</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-12">d</script></span> добијају се
координате горњег левог поља у квадрату. Квадрат онда издвајамо тако
што прво издвојимо <span class="math notranslate nohighlight"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-13-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="font-size: 110%; position: relative;"><span id="MJXc-Node-65" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-66" class="mjx-mrow"><span id="MJXc-Node-67" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.457em; padding-bottom: 0.287em; padding-right: 0.003em;">d</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-13">d</script></span> врста кренувши од врсте у којој се налази
горње лево поље квадрата, затим из тих врста издвојимо <span class="math notranslate nohighlight"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-14-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="font-size: 110%; position: relative;"><span id="MJXc-Node-68" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-69" class="mjx-mrow"><span id="MJXc-Node-70" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.457em; padding-bottom: 0.287em; padding-right: 0.003em;">d</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-14">d</script></span>
колона кренувши од колоне у којој се налази горње лево поље квадрата и
на крају добијену листу листи димензије <span class="math notranslate nohighlight"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-15-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo&gt;&amp;#x00D7;&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="font-size: 110%; position: relative;"><span id="MJXc-Node-71" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-72" class="mjx-mrow"><span id="MJXc-Node-73" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.457em; padding-bottom: 0.287em; padding-right: 0.003em;">d</span></span><span id="MJXc-Node-74" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.23em; padding-bottom: 0.344em;">×</span></span><span id="MJXc-Node-75" class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.457em; padding-bottom: 0.287em; padding-right: 0.003em;">d</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi><mo>×</mo><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-15">d\times d</script></span> спојимо у
једну листу која садржи <span class="math notranslate nohighlight"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-16-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msup&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;/math&gt;" role="presentation" style="font-size: 110%; position: relative;"><span id="MJXc-Node-76" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-77" class="mjx-mrow"><span id="MJXc-Node-78" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em;"><span id="MJXc-Node-79" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.457em; padding-bottom: 0.287em; padding-right: 0.003em;">d</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0.076em; padding-right: 0.071em;"><span id="MJXc-Node-80" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.401em; padding-bottom: 0.344em;">2</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>d</mi><mn>2</mn></msup></math></span></span><script type="math/tex" id="MathJax-Element-16">d^2</script></span> елемената (то можемо урадити
библиотечком функцијом <code class="docutils literal notranslate"><span class="pre">concat</span></code>).</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">vrsta</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Tabla</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Broj</span><span class="p">]</span>
<span class="nf">vrsta</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="o">!!</span><span class="w"> </span><span class="n">v</span>

<span class="nf">kolona</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Tabla</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Broj</span><span class="p">]</span>
<span class="nf">kolona</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="p">(</span><span class="nf">\</span><span class="w"> </span><span class="n">vrsta</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">vrsta</span><span class="w"> </span><span class="o">!!</span><span class="w"> </span><span class="n">k</span><span class="p">)</span><span class="w"> </span><span class="n">tabla</span>

<span class="nf">kvadrat</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Tabla</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Broj</span><span class="p">]</span>
<span class="nf">kvadrat</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="n">kv</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="kr">let</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">kv</span><span class="w"> </span><span class="p">`</span><span class="n">div</span><span class="p">`</span><span class="w"> </span><span class="n">dim</span><span class="p">;</span>
<span class="w">      </span><span class="n">k</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">kv</span><span class="w"> </span><span class="p">`</span><span class="n">mod</span><span class="p">`</span><span class="w"> </span><span class="n">dim</span>
<span class="w">      </span><span class="n">vrste</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="p">(</span><span class="n">vrsta</span><span class="w"> </span><span class="n">tabla</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="n">dim</span><span class="o">*</span><span class="n">v</span><span class="o">..</span><span class="n">dim</span><span class="o">*</span><span class="n">v</span><span class="o">+</span><span class="n">dim</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="w">      </span><span class="n">kolone</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="p">(</span><span class="n">kolona</span><span class="w"> </span><span class="n">vrste</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="n">dim</span><span class="o">*</span><span class="n">k</span><span class="o">..</span><span class="n">dim</span><span class="o">*</span><span class="n">k</span><span class="o">+</span><span class="n">dim</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="w">    </span><span class="kr">in</span><span class="w"> </span><span class="n">concat</span><span class="w"> </span><span class="n">kolone</span>
</pre></div>
</div>
<p>Сада можемо да пређемо на основни алгоритам претраге са повратком.
Алгоритам ће бити реализован кроз функцију</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">popuni</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Tabla</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Tabla</span><span class="p">]</span>
</pre></div>
</div>
<p>која добија делимично попуњену таблу и враћа све исправно попуњене
табле које се од ње могу добити. Током претраге ћемо попуњавати једно
по једно празно поље и то на све могуће исправне начине. Стога ћемо
дефинисати рекурзивну функцију</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">popuniPolje</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Tabla</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Polje</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Tabla</span><span class="p">]</span>
</pre></div>
</div>
<p>која прима делимично попуњену таблу и координате неког поља на њој и
затим попуњава то поље на све могуће начине и наставља попуњавање
рекурзивно од следећег поља све док се не попуни цела табла. Поља су
суштински представљена као уређени парови координата, међутим, да
бисмо добили читљивији код увешћемо посебан тип.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="kr">newtype</span><span class="w"> </span><span class="kt">Polje</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Polje</span><span class="w"> </span><span class="p">(</span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="kt">Int</span><span class="p">)</span>
</pre></div>
</div>
<p>Након попуњавања текућег поља прелазићемо на попуњавање следећег поља
и стога дефинишемо функцију која проналази следеће на основу датог
текућег поља (она увећава колону за један, а ако се тиме добије
координата колоне која је ван опсега, увећава врсту за један).
Претрага ће се завршавати када следеће поље не постоји, па стога
дефинишемо и помоћну функцију којом проверавамо да ли је добијено
следеће поље исправно.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">sledece</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Polje</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Polje</span>
<span class="nf">sledece</span><span class="w"> </span><span class="p">(</span><span class="kt">Polje</span><span class="w"> </span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">))</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">dim</span><span class="o">*</span><span class="n">dim</span>
<span class="w">                         </span><span class="kr">then</span><span class="w"> </span><span class="kt">Polje</span><span class="w"> </span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="w">                         </span><span class="kr">else</span><span class="w"> </span><span class="kt">Polje</span><span class="w"> </span><span class="p">(</span><span class="n">v</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>

<span class="nf">ispravno</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Polje</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">ispravno</span><span class="w"> </span><span class="p">(</span><span class="kt">Polje</span><span class="w"> </span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">))</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">dim</span><span class="o">*</span><span class="n">dim</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">dim</span><span class="o">*</span><span class="n">dim</span>
</pre></div>
</div>
<p>Дефинишимо сада функције за читање броја са датог поља и упис броја на
дато поље. Операција измене елемента на датој позицији у листи није
карактеристична за функционално програмирање (јер је линеарне
сложености, па је веома неефикасна). Уместо листа постоји могућност
коришћења других структура података које омогућавају ефикасну измену
елемента на датој позицији (наравно, измена није у месту већ се враћа
измењена структура података, док оригинална остаје непромењена),
међутим, пошто су наше листе кратке, ми ћемо се задржати на листама.</p>
<p>Дефинишимо прво функцију која враћа листу која се добија изменом
полазне листе тако што се на дату позицију упише дата вредност. Њу је
веома лако дефинисати помоћу функција <code class="docutils literal notranslate"><span class="pre">take</span></code> која узима дати број
елемената са почетка листе, <code class="docutils literal notranslate"><span class="pre">drop</span></code> која избацује дати број елемената
са почетка листе и оператора <code class="docutils literal notranslate"><span class="pre">++</span></code> који надовезује листе.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">upisi</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
<span class="nf">upisi</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="p">[</span><span class="n">v</span><span class="p">]</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="n">drop</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">xs</span>
</pre></div>
</div>
<p>Сада лако можемо дефинисати функције за читање и упис броја. Упис
вршимо тако што у полазну таблу на позицију <code class="docutils literal notranslate"><span class="pre">v</span></code> упишемо врсту која
се добија када се у врсту на позицији <code class="docutils literal notranslate"><span class="pre">v</span></code> у полазној табли, на
позицију <code class="docutils literal notranslate"><span class="pre">k</span></code> упише жељени број.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">brojNaPolju</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Tabla</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Polje</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Broj</span>
<span class="nf">brojNaPolju</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="p">(</span><span class="kt">Polje</span><span class="w"> </span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">))</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="o">!!</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">!!</span><span class="w"> </span><span class="n">k</span>

<span class="nf">upisiBroj</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Tabla</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Polje</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Broj</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Tabla</span>
<span class="nf">upisiBroj</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="p">(</span><span class="kt">Polje</span><span class="w"> </span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">))</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">upisi</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="p">(</span><span class="n">upisi</span><span class="w"> </span><span class="p">(</span><span class="n">vrsta</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
<p>У главној функцији претраге на текуће поље треба да упишемо све могуће
исправне вредности. Ако је број на том пољу различит од нуле, он мора
остати такав и претрага се наставља од наредног поља. Ако на пољу пише
нула, која означава да је поље празно, тада за све бројеве од 1 до
<span class="math notranslate nohighlight"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-17-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="font-size: 110%; position: relative;"><span id="MJXc-Node-81" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-82" class="mjx-mrow"><span id="MJXc-Node-83" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.457em; padding-bottom: 0.287em; padding-right: 0.003em;">d</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-17">d</script></span> треба испитати да ли је могуће уписати их на то поље. То је
могуће ако се у врсти у којој се налази то поље, у колони у којој се
налази то поље и у квадрату у ком се налази то поље већ не налази тај
број. За дато поље познати су редни број врсте и колоне у којој се оно
налази, а дефинисаћемо помоћну функцију која израчунава редни број
квадрата у ком се то поље налази, а затим коришћењем раније дефинисане
функције <code class="docutils literal notranslate"><span class="pre">kvadrat</span></code> одређује и бројеве уписане у тај квадрат.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">kvadratOko</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Tabla</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Polje</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Broj</span><span class="p">]</span>
<span class="nf">kvadratOko</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="p">(</span><span class="kt">Polje</span><span class="w"> </span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">))</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="kr">let</span><span class="w"> </span><span class="n">vv</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="p">`</span><span class="n">div</span><span class="p">`</span><span class="w"> </span><span class="n">dim</span><span class="p">;</span>
<span class="w">      </span><span class="n">kk</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="p">`</span><span class="n">div</span><span class="p">`</span><span class="w"> </span><span class="n">dim</span>
<span class="w">   </span><span class="kr">in</span><span class="w"> </span><span class="n">kvadrat</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="p">(</span><span class="n">dim</span><span class="o">*</span><span class="n">vv</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">kk</span><span class="p">)</span>
</pre></div>
</div>
<p>Провера да ли се број може уписати у квадрат се сада своди на проверу
елемената врсте, колоне и квадрата.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">mozeSeUpisati</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Tabla</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Polje</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Broj</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">mozeSeUpisati</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="p">(</span><span class="kt">Polje</span><span class="w"> </span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">))</span><span class="w"> </span><span class="n">broj</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="n">broj</span><span class="w"> </span><span class="p">`</span><span class="n">notElem</span><span class="p">`</span><span class="w"> </span><span class="p">(</span><span class="n">vrsta</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">broj</span><span class="w"> </span><span class="p">`</span><span class="n">notElem</span><span class="p">`</span><span class="w"> </span><span class="p">(</span><span class="n">kolona</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="n">k</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">broj</span><span class="w"> </span><span class="p">`</span><span class="n">notElem</span><span class="p">`</span><span class="w"> </span><span class="p">(</span><span class="n">kvadratOko</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="p">(</span><span class="kt">Polje</span><span class="w"> </span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">)))</span>
</pre></div>
</div>
<p>На крају можемо дефинисати и централну функцију која врши бектрекинг
претрагу. Прокоментаришимо функцију <code class="docutils literal notranslate"><span class="pre">popuniPolje</span></code>. Ако поље које
треба попунити није исправно, тј. излази ван граница табле, то значи
да се стигло до краја, да је цела табла исправно попуњена и стога је
она једино своје исправно проширење. У супротном, ако је на датом пољу
већ уписана нека вредност, рекурзивно се прелази на попуњавање
следећег поља. У супротном одређујемо прво низ <code class="docutils literal notranslate"><span class="pre">brojevi</span></code> који садржи
све бројеве од 1 до <span class="math notranslate nohighlight"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-18-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msup&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;/math&gt;" role="presentation" style="font-size: 110%; position: relative;"><span id="MJXc-Node-84" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-85" class="mjx-mrow"><span id="MJXc-Node-86" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em;"><span id="MJXc-Node-87" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.457em; padding-bottom: 0.287em; padding-right: 0.003em;">d</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0.076em; padding-right: 0.071em;"><span id="MJXc-Node-88" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.401em; padding-bottom: 0.344em;">2</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>d</mi><mn>2</mn></msup></math></span></span><script type="math/tex" id="MathJax-Element-18">d^2</script></span> који се могу уписати на текуће поље
тако да табла и даље остане исправна, затим се одређује низ <code class="docutils literal notranslate"><span class="pre">table</span></code>
који садржи табле које се добијају уписом тих бројева на текуће поље,
затим се за сваку тако добијену таблу рекурзивно одређују сва исправна
проширења до потпуно попуњене табле (добија се листа табли) и на крају
се све тако добијене табле спајају у једну листу. Приметимо да користимо
функцију <code class="docutils literal notranslate"><span class="pre">concatMap</span></code> која спаја функционалност функције
<code class="docutils literal notranslate"><span class="pre">map</span> <span class="pre">(popuniPolje</span> <span class="pre">(sledece</span> <span class="pre">polje))</span> <span class="pre">table</span></code> којом покрећемо рекурзивно
претрагу за сваку таблу из листе <code class="docutils literal notranslate"><span class="pre">table</span></code> и <code class="docutils literal notranslate"><span class="pre">concat</span></code> која спаја добијену
листу листи у јединствену листу.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">popuni</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Tabla</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Tabla</span><span class="p">]</span>
<span class="nf">popuni</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">popuniPolje</span><span class="w"> </span><span class="p">(</span><span class="kt">Polje</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">))</span><span class="w"> </span><span class="n">tabla</span>
<span class="w">    </span><span class="kr">where</span><span class="w"> </span><span class="n">popuniPolje</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Polje</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Tabla</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Tabla</span><span class="p">]</span>
<span class="w">          </span><span class="n">popuniPolje</span><span class="w"> </span><span class="n">polje</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="ow">=</span>
<span class="w">            </span><span class="kr">if</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="p">(</span><span class="n">ispravno</span><span class="w"> </span><span class="n">polje</span><span class="p">)</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="p">[</span><span class="n">tabla</span><span class="p">]</span>
<span class="w">            </span><span class="kr">else</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="n">brojNaPolju</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="n">polje</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">then</span>
<span class="w">              </span><span class="n">popuniPolje</span><span class="w"> </span><span class="p">(</span><span class="n">sledece</span><span class="w"> </span><span class="n">polje</span><span class="p">)</span><span class="w"> </span><span class="n">tabla</span>
<span class="w">            </span><span class="kr">else</span>
<span class="w">              </span><span class="kr">let</span>
<span class="w">                </span><span class="n">brojevi</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="p">(</span><span class="n">mozeSeUpisati</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="n">polje</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="n">dim</span><span class="o">*</span><span class="n">dim</span><span class="p">];</span>
<span class="w">                </span><span class="n">table</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="p">(</span><span class="n">upisiBroj</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="n">polje</span><span class="p">)</span><span class="w"> </span><span class="n">brojevi</span>
<span class="w">              </span><span class="kr">in</span>
<span class="w">                </span><span class="n">concatMap</span><span class="w"> </span><span class="p">(</span><span class="n">popuniPolje</span><span class="w"> </span><span class="p">(</span><span class="n">sledece</span><span class="w"> </span><span class="n">polje</span><span class="p">))</span><span class="w"> </span><span class="n">table</span>
</pre></div>
</div>
<p>На крају програм можемо тестирати на конкретним примерима.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">sudoku</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Tabla</span>
<span class="nf">sudoku</span><span class="ow">=</span><span class="p">[[</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">]]</span>
</pre></div>
</div>
<p>Може се приметити да иако нису вршене никакве специфичне оптимизације,
програм сасвим ефикасно ради за све табле димензије <span class="math notranslate nohighlight"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-19-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo&gt;&amp;#x00D7;&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="font-size: 110%; position: relative;"><span id="MJXc-Node-89" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-90" class="mjx-mrow"><span id="MJXc-Node-91" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.401em; padding-bottom: 0.344em;">3</span></span><span id="MJXc-Node-92" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.23em; padding-bottom: 0.344em;">×</span></span><span id="MJXc-Node-93" class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.401em; padding-bottom: 0.344em;">3</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mo>×</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-19">3 \times
3</script></span>. Позив</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">popuni</span><span class="w"> </span><span class="n">sudoku</span>
</pre></div>
</div>
<p>даје резултат</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[[</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
  <span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span>
  <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span>
  <span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
  <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
  <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span>
  <span class="p">[</span><span class="mi">9</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span>
  <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
  <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">]]]</span>
</pre></div>
</div>
<p>што значи да постоји само један начин да се полазни проблем реши (по
правилима Судоку, загонетке се конструишу тако да имају јединствено
решење).</p>
</section>


    
                <div class="finish-lecture-label" id="finishLectureLabel-8410">Mark activity as completed</div>
                <button type="button" class="finish-lecture-btn not-checked-finish-activity" id="finishLecture-8410" aria-labelledby="MarkLectureComplitedBtn">
                    <img src="/images/check (2) 2@3x.png" alt="Icon for marking the activity as completed">
                </button>
                <div role="button" class="finish-lecture-btn checked-finish-activity d-none" id="checkmark-8410" aria-labelledby="LectureMarkedComplitedBtn">
                    <div class="checked-finish-activity-label">
                        Activity completed!
                    </div>
                    <img src="/images/check (2) 2@3x white.png" alt="Icon indicating the activity is completed">
                </div>
                <div class="lecture-prev-next-toggle">
                    <button type="button" id="prevLecture" class="lecture-toggler-arrows" aria-labelledby="Button to go on previous activity">
                        <span aria-hidden="true">
                            <i class="fas fa-arrow-left fa"></i>
                        </span>
                        <span class="lecture-toggler-arrows-text">Previous activity</span>
                    </button>

                    <button type="button" id="nextLecture" class="lecture-toggler-arrows" aria-labelledby="Button to go on next activity">
                        <span class="lecture-toggler-arrows-text">Next activity</span>
                        <span aria-hidden="true">
                            <i class="fas fa-arrow-right fa"></i>
                        </span>
                    </button>
                </div>
            </div>